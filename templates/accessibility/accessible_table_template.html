<!--
    Accessible Data Table Template
    WCAG 2.2 AA Compliant

    Features:
    - Caption for table identification
    - Proper header cells with scope attributes
    - Row headers where applicable
    - Summary for complex tables
    - Responsive wrapper for mobile
-->

<!-- Basic Data Table -->
<div class="table-responsive">
    <table class="table table-bordered" aria-describedby="table1-desc">
        <caption id="table1-caption">
            {{TABLE_TITLE}}
            <span id="table1-desc" class="sr-only">
                {{TABLE_DESCRIPTION}}
            </span>
        </caption>
        <thead class="thead-light">
            <tr>
                <th scope="col">{{COLUMN_1_HEADER}}</th>
                <th scope="col">{{COLUMN_2_HEADER}}</th>
                <th scope="col">{{COLUMN_3_HEADER}}</th>
                <th scope="col">{{COLUMN_4_HEADER}}</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">{{ROW_1_HEADER}}</th>
                <td>{{ROW_1_COL_2}}</td>
                <td>{{ROW_1_COL_3}}</td>
                <td>{{ROW_1_COL_4}}</td>
            </tr>
            <tr>
                <th scope="row">{{ROW_2_HEADER}}</th>
                <td>{{ROW_2_COL_2}}</td>
                <td>{{ROW_2_COL_3}}</td>
                <td>{{ROW_2_COL_4}}</td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Complex Table with Row and Column Headers -->
<div class="table-responsive mt-4">
    <table class="table table-bordered table-striped">
        <caption>
            {{COMPLEX_TABLE_TITLE}}
        </caption>
        <thead class="thead-dark">
            <tr>
                <th scope="col" id="header-empty"></th>
                <th scope="col" id="header-q1">Q1</th>
                <th scope="col" id="header-q2">Q2</th>
                <th scope="col" id="header-q3">Q3</th>
                <th scope="col" id="header-q4">Q4</th>
                <th scope="col" id="header-total">Total</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row" id="row-sales">Sales</th>
                <td headers="header-q1 row-sales">$10,000</td>
                <td headers="header-q2 row-sales">$12,000</td>
                <td headers="header-q3 row-sales">$15,000</td>
                <td headers="header-q4 row-sales">$18,000</td>
                <td headers="header-total row-sales"><strong>$55,000</strong></td>
            </tr>
            <tr>
                <th scope="row" id="row-expenses">Expenses</th>
                <td headers="header-q1 row-expenses">$8,000</td>
                <td headers="header-q2 row-expenses">$9,000</td>
                <td headers="header-q3 row-expenses">$10,000</td>
                <td headers="header-q4 row-expenses">$11,000</td>
                <td headers="header-total row-expenses"><strong>$38,000</strong></td>
            </tr>
        </tbody>
        <tfoot class="table-secondary">
            <tr>
                <th scope="row" id="row-profit">Net Profit</th>
                <td headers="header-q1 row-profit">$2,000</td>
                <td headers="header-q2 row-profit">$3,000</td>
                <td headers="header-q3 row-profit">$5,000</td>
                <td headers="header-q4 row-profit">$7,000</td>
                <td headers="header-total row-profit"><strong>$17,000</strong></td>
            </tr>
        </tfoot>
    </table>
</div>

<!-- Comparison Table -->
<div class="table-responsive mt-4">
    <table class="table table-hover">
        <caption>
            {{COMPARISON_TITLE}}
        </caption>
        <thead>
            <tr>
                <th scope="col">Feature</th>
                <th scope="col">Option A</th>
                <th scope="col">Option B</th>
                <th scope="col">Option C</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">{{FEATURE_1}}</th>
                <td>
                    <span class="text-success" aria-label="Yes, included">✓</span>
                    <span class="sr-only">Yes</span>
                </td>
                <td>
                    <span class="text-success" aria-label="Yes, included">✓</span>
                    <span class="sr-only">Yes</span>
                </td>
                <td>
                    <span class="text-danger" aria-label="No, not included">✗</span>
                    <span class="sr-only">No</span>
                </td>
            </tr>
            <tr>
                <th scope="row">{{FEATURE_2}}</th>
                <td>
                    <span class="text-danger" aria-label="No, not included">✗</span>
                    <span class="sr-only">No</span>
                </td>
                <td>
                    <span class="text-success" aria-label="Yes, included">✓</span>
                    <span class="sr-only">Yes</span>
                </td>
                <td>
                    <span class="text-success" aria-label="Yes, included">✓</span>
                    <span class="sr-only">Yes</span>
                </td>
            </tr>
        </tbody>
    </table>
</div>

<!-- Styles for accessible tables -->
<style>
    /* Ensure sufficient contrast */
    .table caption {
        color: #495057;
        font-size: 1.1rem;
        font-weight: 600;
        padding: 0.75rem;
        caption-side: top;
    }

    /* Header styling */
    .table th {
        font-weight: 600;
        background-color: #f8f9fa;
    }

    /* WCAG 2.2 2.4.13 Focus Appearance - minimum 2px outline with 3:1 contrast */
    .table-hover tbody tr:focus-within {
        outline: 2px solid #2c5aa0;
        outline-offset: 2px;
    }

    /* WCAG 2.2 2.5.8 Target Size (Minimum) - 24x24 CSS pixels */
    a, button, [role="button"], [tabindex="0"] {
        min-height: 24px;
        min-width: 24px;
    }

    /* WCAG 2.2 2.4.11/2.4.12 Focus Not Obscured */
    *:focus {
        scroll-margin-top: 80px;
        scroll-margin-bottom: 80px;
    }

    /* Screen reader only class */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border: 0;
    }

    /* Responsive table improvements */
    @media (max-width: 768px) {
        .table-responsive table {
            font-size: 0.9rem;
        }
        .table-responsive th,
        .table-responsive td {
            padding: 0.5rem;
        }
    }
</style>
